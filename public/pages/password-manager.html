<!DOCTYPE html>
<html>
<head>
  <title>Password Manager</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      display: flex;
    }
    nav {
      width: 200px;
      background: #333;
      color: white;
      height: 100vh;
      padding: 20px;
    }
    nav a {
      color: white;
      text-decoration: none;
      display: block;
      margin: 10px 0;
    }
    main {
      padding: 20px;
      flex-grow: 1;
    }
    .section {
      margin-bottom: 30px;
    }
    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    .tab-button {
      padding: 10px 20px;
      border: none;
      background: #eee;
      cursor: pointer;
      font-weight: bold;
    }
    .tab-button.active {
      background: #333;
      color: white;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    #dropdownList {
      list-style: none;
      padding-left: 0;
      border: 1px solid #ccc;
      max-height: 150px;
      overflow-y: auto;
    }
    #dropdownList li {
      padding: 6px;
      cursor: pointer;
    }
    #dropdownList li:hover {
      background-color: #eee;
    }
    textarea[readonly] {
      resize: none;
      user-select: text;
      background-color: #f9f9f9;
      cursor: text;
      border: 1px solid #ccc;
    }
  </style>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <nav>
    <h2>Menu</h2>
    <a href="index.html">Home</a>
    <a>Password Manager</a>
    <a href="calorie-tracker.html">Calorie Tracker</a>
  </nav>

  <main>
    <h1>Password Manager</h1>

    <div class="section">
      <input type="password" id="passwordInput" placeholder="Enter secret key..." />
    </div>

    <div class="tabs">
      <button class="tab-button active" onclick="showTab('encryptTab')">Encrypt</button>
      <button class="tab-button" onclick="showTab('decryptTab')">Decrypt</button>
    </div>

    <div id="encryptTab" class="tab-content active">
      <div class="section">
        <h3>Encrypt New Message</h3>
        <textarea id="encryptInput" placeholder="Enter message to encrypt..." rows="4" cols="50"></textarea>
        <br><br>
        <button onclick="encryptAndCopy()">Copy Encrypted Message</button>
        <br><br>
        <input type="text" id="labelInput" placeholder="Enter a label to save..." />
        <br><br>
        <button onclick="saveEncrypted()">Save</button>
        <br><br>
      </div>
    </div>

    <div id="decryptTab" class="tab-content">
      <div class="section">
        <h3>Decrypt Saved Password</h3>
        <input type="text" id="dropdownSearch" placeholder="Search saved labels..." />
        <ul id="dropdownList"></ul>
        <br><br>
        <button onclick="decryptAndCopy()">Copy Decrypted Password</button>
        <button onclick="deleteSelected()">Delete Selected</button>
      </div>
    </div>
  </div>


    <input type="hidden" id="result" />
    <div id="toaster"></div>
    <script src="/js/crypto.js"></script>
    <script src="/js/common.js"></script>
    <script>
      function showTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(tab => {
          tab.classList.remove('active');
        });
        document.getElementById(tabId).classList.add('active');

        document.querySelectorAll('.tab-button').forEach(btn => {
          btn.classList.remove('active');
        });
        event.target.classList.add('active');
      }
    </script>
  </main>
</body>
</html>